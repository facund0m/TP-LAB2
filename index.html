<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gestión de Colección de Videojuegos</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div id="app">
    <div class="container">
      <h1>Administracion de videojuegos</h1>
      <br>
      <p><b>Nuevo videojuego</b></p>
      
      <div class="form-group">
        <label for="name">Nombre:</label>
        <input type="text" id="name" v-model="newGame.name">
        <span v-if="errors.name" class="error-message">{{ errors.name }}</span>
      </div>
      <div class="form-group">
        <label for="platform">Plataforma:</label>
        <select id="platform" v-model="newGame.platform">
          <option value="">Selecciona una plataforma</option>
          <option value="PC">PC</option>
          <option value="XBOX">XBOX</option>
          <option value="PLAYSTATION">PLAYSTATION</option>
        </select>
        <span v-if="errors.platform" class="error-message">{{ errors.platform }}</span>
      </div>
      <div class="form-group">
        <label for="status">Estado:</label>
        <select id="status" v-model="newGame.status">
          <option value="">Selecciona un estado</option>
          <option value="JUGADO">JUGADO</option>
          <option value="COMPLETADO">COMPLETADO</option>
          <option value="PENDIENTE">PENDIENTE</option>
        </select>
        <span v-if="errors.status" class="error-message">{{ errors.status }}</span>
      </div>
      <div class="form-group">
        <label for="score">Puntaje:</label>
        <input type="number" id="score" v-model.number="newGame.score">
        <span v-if="errors.score" class="error-message">{{ errors.score }}</span>
      </div>
      
      <button @click="registerGame">Registrar videojuego</button>
      <br>
      <p><b>Videojuegos</b></p>
      <table v-if="games.length">
        <thead>
          <tr>
            <th>Nombre</th>
            <th>Plataforma</th>
            <th>Estado</th>
            <th>Puntaje</th>
            <th>Mas info</th>
          </tr>
        </thead>
        <tbody>
          <tr v-for="(game, index) in games" :key="index" @click="showDetails(game)">
            <td>{{ game.name }}</td>
            <td>{{ game.platform }}</td>
            <td>{{ game.status }}</td>
            <td>{{ game.score }}</td>
            <td><button>Detalles</button></td>
          </tr>
        </tbody>
      </table>
    </div>
    <div class="modal" v-if="selectedGame">
      <div class="modal-content">
        <span class="close" @click="closeModal">&times;</span>
        <h2>Detalles del Juego</h2>
        <p><strong>Nombre:</strong> {{ selectedGame.name }}</p>
        <p><strong>Plataforma:</strong> {{ selectedGame.platform }}</p>
        <p><strong>Estado:</strong> {{ selectedGame.status }}</p>
        <p><strong>Puntaje:</strong> {{ selectedGame.score }}</p>
      </div>
    </div>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/vue@2"></script>
  <script src="app.js"></script>
</body>
</html>
